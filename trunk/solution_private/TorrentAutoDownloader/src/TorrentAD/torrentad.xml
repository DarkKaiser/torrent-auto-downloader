<?xml version="1.0" encoding="euc-kr"?>
<torrentad>
	<fbis-servers>
		<fbis-server>
			<id>MSVR_01</id>
			<description>Matcher Server 1</description>
			<host>192.168.51.31</host>
			<loadbalance_port>5500</loadbalance_port>
			<matchers>
				<matcher>
					<type>FINGER_MATCHER_1_1</type>
					<port>5000</port>
				</matcher>
				<matcher>
					<type>FACE_MATCHER_1_1</type>
					<port>5000</port>
				</matcher>
				<matcher>
					<type>IRIS_MATCHER_1_1</type>
					<port>5000</port>
				</matcher>
				<matcher>
					<type>FINGER_MATCHER_1_N_BLACKLIST</type>
					<port>5000</port>
				</matcher>
				<matcher>
					<type>FACE_MATCHER_1_N_BLACKLIST</type>
					<port>5000</port>
				</matcher>
				<matcher>
					<type>IRIS_MATCHER_1_N_BLACKLIST</type>
					<port>5000</port>
				</matcher>
				<matcher>
					<type>FINGER_MATCHER_1_N_VISITORS</type>
					<port>5000</port>
				</matcher>
				<matcher>
					<type>FACE_MATCHER_1_N_VISITORS</type>
					<port>5000</port>
				</matcher>
			</matchers>
		</fbis-server>
	</fbis-servers>

	<torrentad-config-values>
		<!-- 문자열 인코딩/디코딩 -->
		<charset>UTF-8</charset>

		<!-- 분배서버 ID, 최대 10글자 -->
		<dispatcher_id>DISPATCH_1</dispatcher_id>

		<!-- 분배서버 인덱스 -->
		<dispatcher_index>1</dispatcher_index>

		<!-- Tmax 서비스의 연결허용 대기 포트 -->
		<tmax_listener_port>5400</tmax_listener_port>

		<!-- 통계 수집 제공 서비스의 연결허용 대기 포트 -->
		<statistics_listener_port>5402</statistics_listener_port>

		<!-- 부하수집 정책 -->
		<loadbalance_policy>default</loadbalance_policy>

		<!-- 부하수집 동기화 시간 -->
		<loadbalance_sync_mills>500</loadbalance_sync_mills>

		<!-- 부하수집 서버 무응답 대기시간 -->
		<loadbalance_no_answer_waiting_second>10</loadbalance_no_answer_waiting_second>

		<!-- 부하수집 서버 연결 타임아웃 -->
		<loadbalance_connect_timeout_mills>1000</loadbalance_connect_timeout_mills>

		<!-- 부하수집 서버 재연결 시도 시간 -->
		<loadbalance_connection_check_time_mills>5000</loadbalance_connection_check_time_mills>
		
		<!-- Matcher 서버 연결 타임아웃 -->
		<matcher_connect_timeout_mills>1000</matcher_connect_timeout_mills>

		<!-- Matcher 서버 재연결 시도 시간 -->
		<matcher_connection_check_time_mills>5000</matcher_connection_check_time_mills>

		<!-- 1:1 인증, 1:N 검색, 바이오정보 동기화 작업요청 처리중에 Matcher 서버로의 작업요청이 실패하여 오류 발생시 작업요청 처리 재시도 회수 -->
		<process_matcher_request_failed_retry_count>3</process_matcher_request_failed_retry_count>

		<!-- 1:1 인증, 1:N 검색, 바이오정보 동기화 작업요청 처리중에 Matcher 서버로의 작업요청이 실패하였을 때 재작업요청 대기 시간 -->
		<process_matcher_request_failed_retry_waittime_mills>300</process_matcher_request_failed_retry_waittime_mills>

		<!-- 실패한 요청작업이 Tmax Service로 반환되고 나서, 백그라운드에서 나머지 작업이 성공할 때까지 재요청하면서 대기하는 명령의 최대 대기시간(단위:초), 값의범위:5초이상 -->
		<background_request_max_waittime_second>6000</background_request_max_waittime_second>

		<!-- 실패한 요청작업이 Tmax Service로 반환되고 나서, 백그라운드에서 나머지 작업이 성공할 때까지 재요청하면서 대기할때 나머지 작업의 처리를 다시 요청할 시간(단위:초), 값의 범위:1초이상 -->
		<background_request_retry_time_second>30</background_request_retry_time_second>

		<!-- 바이오정보  동기화 작업요청이 들어왔을 때 TMAX 서비스로 바로 성공메시지를 반환할지의 여부 -->
		<biosynccommand_compulsion_return>true</biosynccommand_compulsion_return>

		<!-- 이벤트 처리 프로세서 개수 -->
		<event_processor_count>20</event_processor_count>

		<!-- 유사도 최소 기준값, 0이면 제한 없음 -->
		<min_search_result_matching_score_value>0</min_search_result_matching_score_value>

		<!-- 1:N 지문,안면,혹채 검색시에 Matcher 서버에서 분배서버로 반환되는 검색결과 최대 개수 -->
		<max_matcher_search_result_count>10</max_matcher_search_result_count>

		<!-- 로그가 쌓이는 폴더명, 입력되지 않으면 로그 삭제 기능은 비활성화됩니다. -->
		<log_folder_name>logs</log_folder_name>

		<!-- 기본 로그 파일 Prefix -->
		<log_filename_prefix>dailyout.log.</log_filename_prefix>

		<!-- 이상상황 로그 파일 Prefix -->
		<abnormal_log_filename_prefix>dailyerr.log.</abnormal_log_filename_prefix>

		<!-- 기본 로그가 아닌 이상상황에 대한 로그를 파일로 남길지에 대한 여부, 기본 로그는 자동으로 남겨집니다. -->
		<abnormal_log_record>true</abnormal_log_record>

		<!-- 기본 로그가 아닌 이상상황에 대한 로그를 파일로 남길때의 문자열 인코딩 -->
		<abnormal_log_file_charset>euc-kr</abnormal_log_file_charset>

		<!-- 몇일이 지난 로그들을 삭제할지 설정, 0이면 로그 삭제 기능은 비활성화됩니다. -->
		<log_delete_after_day>2</log_delete_after_day>

		<!-- 매쳐서버에서 요청에 대한 응답이 일정시간동안 없는 경우 장애상태로 판단, 이 값이 0이면 기능 비활성화 -->
		<abnormal_status_limit_minute>1</abnormal_status_limit_minute>

		<!-- abnormal_status_limit_minute 값이 0 이상일 때 장애상태로 판단할 무응답 요청 개수 -->
		<abnormal_status_limit_count>3</abnormal_status_limit_count>
	</torrentad-config-values>
</torrentad>
